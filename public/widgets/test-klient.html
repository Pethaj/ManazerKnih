<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Testovac√≠ Str√°nka - Vany Chat Widget (Simulace Klienta)</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      overflow: hidden;
    }
    
    /* Header */
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }
    
    .header h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }
    
    .header p {
      font-size: 1.1rem;
      opacity: 0.9;
    }
    
    /* Content */
    .content {
      padding: 40px;
    }
    
    .section {
      margin-bottom: 40px;
    }
    
    .section h2 {
      color: #333;
      margin-bottom: 20px;
      font-size: 1.8rem;
      border-bottom: 3px solid #667eea;
      padding-bottom: 10px;
    }
    
    .section p {
      color: #666;
      line-height: 1.8;
      margin-bottom: 15px;
      font-size: 1rem;
    }
    
    /* Buttons */
    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .btn {
      padding: 15px 30px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }
    
    .btn-success {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(17, 153, 142, 0.4);
    }
    
    .btn-success:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(17, 153, 142, 0.6);
    }
    
    .btn-warning {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(240, 147, 251, 0.4);
    }
    
    .btn-warning:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(240, 147, 251, 0.6);
    }
    
    .btn-info {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
    }
    
    .btn-info:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(79, 172, 254, 0.6);
    }
    
    /* Cards */
    .card {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      border-left: 4px solid #667eea;
    }
    
    .card h3 {
      color: #667eea;
      margin-bottom: 10px;
      font-size: 1.3rem;
    }
    
    .card p {
      color: #555;
      line-height: 1.6;
    }
    
    /* Code box */
    .code-box {
      background: #1e1e1e;
      color: #d4d4d4;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
    }
    
    .code-box .keyword {
      color: #569cd6;
    }
    
    .code-box .string {
      color: #ce9178;
    }
    
    .code-box .comment {
      color: #6a9955;
    }
    
    /* Status badge */
    .status {
      display: inline-block;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .status-success {
      background: #d4edda;
      color: #155724;
    }
    
    .status-info {
      background: #d1ecf1;
      color: #0c5460;
    }
    
    /* API Console */
    .console {
      background: #000;
      color: #0f0;
      padding: 20px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      max-height: 300px;
      overflow-y: auto;
      margin-top: 20px;
    }
    
    .console-line {
      margin-bottom: 5px;
    }
    
    .console-time {
      color: #888;
    }
    
    .console-success {
      color: #0f0;
    }
    
    .console-error {
      color: #f00;
    }
    
    .console-info {
      color: #0ff;
    }
    
    /* Footer */
    .footer {
      background: #f8f9fa;
      padding: 30px;
      text-align: center;
      color: #666;
      border-top: 1px solid #dee2e6;
    }
    
    /* Floating button */
    .floating-btn {
      position: fixed;
      bottom: 30px;
      left: 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 15px 25px;
      border-radius: 50px;
      border: none;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(102, 126, 234, 0.5);
      transition: all 0.3s ease;
      z-index: 999998;
    }
    
    .floating-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 6px 25px rgba(102, 126, 234, 0.7);
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 1.8rem;
      }
      
      .button-grid {
        grid-template-columns: 1fr;
      }
      
      .floating-btn {
        left: 50%;
        transform: translateX(-50%);
        bottom: 20px;
      }
      
      .floating-btn:hover {
        transform: translateX(-50%) translateY(-3px) scale(1.05);
      }
    }
  </style>
</head>
<body>
  <!-- Floating button (simuluje typick√© pou≈æit√≠ u klienta) -->
  <button class="floating-btn" onclick="openChatWidget()">
    üí¨ Kontaktujte na≈°eho poradce
  </button>

  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>üß™ Testovac√≠ Prost≈ôed√≠ - Vany Chat Widget</h1>
      <p>Simulace re√°ln√©ho klientsk√©ho webu</p>
    </div>

    <!-- Content -->
    <div class="content">
      <!-- Status Section -->
      <div class="section">
        <h2>üìä Status Widgetu</h2>
        <div class="card">
          <span class="status status-success" id="widget-status">‚è≥ Naƒç√≠t√°n√≠...</span>
          <h3>Widget je p≈ôipraven k pou≈æit√≠</h3>
          <p>Widget bƒõ≈æ√≠ ve stejn√©m re≈æimu jako u klienta na produkci. V≈°echny funkce jsou plnƒõ funkƒçn√≠ a p≈ôipojen√© k produkƒçn√≠m slu≈æb√°m (N8N, Supabase).</p>
        </div>
      </div>

      <!-- Testing Section -->
      <div class="section">
        <h2>üéÆ Testovac√≠ Sc√©n√°≈ôe</h2>
        
        <div class="button-grid">
          <button class="btn btn-primary" onclick="testScenario1()">
            üí¨ Z√°kladn√≠ chat
          </button>
          
          <button class="btn btn-success" onclick="testScenario2()">
            üõí Produktov√© doporuƒçen√≠
          </button>
          
          <button class="btn btn-warning" onclick="testScenario3()">
            üéØ Funnel flow
          </button>
          
          <button class="btn btn-info" onclick="testScenario4()">
            ü§ñ Automatick√° zpr√°va
          </button>
        </div>
      </div>

      <!-- API Testing Section -->
      <div class="section">
        <h2>üîß API Testov√°n√≠</h2>
        
        <div class="button-grid">
          <button class="btn btn-primary" onclick="testAPIOpen()">
            üìñ Otev≈ô√≠t widget
          </button>
          
          <button class="btn btn-success" onclick="testAPIClose()">
            üìï Zav≈ô√≠t widget
          </button>
          
          <button class="btn btn-warning" onclick="testAPIToggle()">
            üîÑ Toggle widget
          </button>
          
          <button class="btn btn-info" onclick="testAPISendMessage()">
            üì® Poslat zpr√°vu
          </button>
        </div>

        <!-- Console -->
        <div class="console" id="console">
          <div class="console-line console-info">[INFO] Konzole p≈ôipravena...</div>
        </div>
      </div>

      <!-- Scenarios Description -->
      <div class="section">
        <h2>üìñ Popis Testovac√≠ch Sc√©n√°≈ô≈Ø</h2>
        
        <div class="card">
          <h3>üí¨ Sc√©n√°≈ô 1: Z√°kladn√≠ chat</h3>
          <p>Otev≈ôe chat a simuluje bƒõ≈ænou konverzaci. Widget zobraz√≠ uv√≠tac√≠ zpr√°vu a u≈æivatel m≈Ø≈æe zaƒç√≠t ps√°t.</p>
        </div>

        <div class="card">
          <h3>üõí Sc√©n√°≈ô 2: Produktov√© doporuƒçen√≠</h3>
          <p>Otev≈ôe chat a po≈°le automatickou zpr√°vu pro produktov√° doporuƒçen√≠. Bot by mƒõl rozpoznat intent a nab√≠dnout produkty.</p>
        </div>

        <div class="card">
          <h3>üéØ Sc√©n√°≈ô 3: Funnel flow</h3>
          <p>Spust√≠ konverzaƒçn√≠ funnel, kde bot vede u≈æivatele p≈ôes s√©rii ot√°zek k c√≠li (nap≈ô. doporuƒçen√≠ produktu).</p>
        </div>

        <div class="card">
          <h3>ü§ñ Sc√©n√°≈ô 4: Automatick√° zpr√°va</h3>
          <p>Demonstruje jak poslat zpr√°vu do chatu programovƒõ - pou≈æiteln√© pro kontextov√© nab√≠dky.</p>
        </div>
      </div>

      <!-- Integration Code -->
      <div class="section">
        <h2>üíª Integrace u Klienta</h2>
        
        <p>Takto vypad√° integrace na t√©to str√°nce (identick√© s re√°ln√Ωm klientem):</p>

        <div class="code-box">
<span class="comment">&lt;!-- Vany Chat Widget Integration --&gt;</span>
<span class="keyword">&lt;script</span> <span class="string">src</span>=<span class="string">"./vany-chat-widget.js"</span> 
        <span class="string">data-chatbot-id</span>=<span class="string">"vany_chat"</span>
        <span class="string">data-theme</span>=<span class="string">"light"</span>
        <span class="string">data-position</span>=<span class="string">"bottom-right"</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;/script&gt;</span>

<span class="comment">// Otev≈ôen√≠ widgetu tlaƒç√≠tkem</span>
<span class="keyword">function</span> openChatWidget() {
  window.VanyChatWidget.<span class="string">open</span>();
  <span class="string">logToConsole</span>(<span class="string">'Widget otev≈ôen tlaƒç√≠tkem'</span>, <span class="string">'success'</span>);
}
        </div>

        <p><strong>Pozn√°mka:</strong> V produkci by se pou≈æ√≠vala URL:</p>
        <div class="code-box">
<span class="string">src</span>=<span class="string">"https://beautiful-pika-466f18.netlify.app/widgets/vany-chat-widget.js"</span>
        </div>
      </div>

      <!-- Configuration -->
      <div class="section">
        <h2>‚öôÔ∏è Aktu√°ln√≠ Konfigurace</h2>
        
        <div class="card">
          <h3>Widget Konfigurace</h3>
          <div id="config-display">
            <p><strong>Chatbot ID:</strong> <code>vany_chat</code></p>
            <p><strong>T√©ma:</strong> <code>light</code></p>
            <p><strong>Pozice:</strong> <code>bottom-right</code></p>
            <p><strong>≈†√≠≈ôka:</strong> <code>400px</code></p>
            <p><strong>V√Ω≈°ka:</strong> <code>600px</code></p>
          </div>
        </div>
      </div>

    </div>

    <!-- Footer -->
    <div class="footer">
      <p>¬© 2025 Bewit | Vany Chat Widget Testing Environment</p>
      <p style="margin-top: 10px; font-size: 14px;">
        <strong>Verze:</strong> 1.0.0 | 
        <strong>Status:</strong> <span style="color: #28a745;">üü¢ Online</span>
      </p>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- VANY CHAT WIDGET - PRODUCTION SIMULATION    -->
  <!-- ============================================ -->
  <script src="./vany-chat-widget.js" 
          data-chatbot-id="vany_chat"
          data-theme="light"
          data-position="bottom-right">
  </script>

  <!-- Test Scripts -->
  <script>
    // Console logger
    function logToConsole(message, type = 'info') {
      const console = document.getElementById('console');
      const time = new Date().toLocaleTimeString();
      const line = document.createElement('div');
      line.className = `console-line console-${type}`;
      line.innerHTML = `<span class="console-time">[${time}]</span> ${message}`;
      console.appendChild(line);
      console.scrollTop = console.scrollHeight;
    }

    // Widget status check
    function checkWidgetStatus() {
      const statusEl = document.getElementById('widget-status');
      
      if (window.VanyChatWidget) {
        statusEl.textContent = '‚úÖ Widget P≈ôipraven';
        statusEl.className = 'status status-success';
        logToConsole('Widget √∫spƒõ≈°nƒõ naƒçten a p≈ôipraven', 'success');
        
        // Log config
        logToConsole('Config: ' + JSON.stringify(window.VanyChatWidget.config), 'info');
      } else {
        statusEl.textContent = '‚ùå Widget Nenaƒçten';
        statusEl.className = 'status status-error';
        logToConsole('Widget se nepoda≈ôilo naƒç√≠st!', 'error');
      }
    }

    // Open chat widget
    function openChatWidget() {
      if (window.VanyChatWidget) {
        window.VanyChatWidget.open();
        logToConsole('Widget otev≈ôen', 'success');
      } else {
        logToConsole('Widget nen√≠ k dispozici!', 'error');
        alert('Widget nen√≠ k dispozici. Zkuste obnovit str√°nku.');
      }
    }

    // Test Scenarios
    function testScenario1() {
      logToConsole('üß™ Test Sc√©n√°≈ô 1: Z√°kladn√≠ chat', 'info');
      openChatWidget();
    }

    function testScenario2() {
      logToConsole('üß™ Test Sc√©n√°≈ô 2: Produktov√© doporuƒçen√≠', 'info');
      window.VanyChatWidget.open();
      
      setTimeout(() => {
        window.VanyChatWidget.sendMessage('Hled√°m produkty pro lep≈°√≠ sp√°nek');
        logToConsole('Posl√°na zpr√°va: "Hled√°m produkty pro lep≈°√≠ sp√°nek"', 'info');
      }, 800);
    }

    function testScenario3() {
      logToConsole('üß™ Test Sc√©n√°≈ô 3: Funnel flow', 'info');
      window.VanyChatWidget.open();
      
      setTimeout(() => {
        window.VanyChatWidget.sendMessage('Pot≈ôebuji doporuƒçen√≠');
        logToConsole('Posl√°na zpr√°va: "Pot≈ôebuji doporuƒçen√≠"', 'info');
      }, 800);
    }

    function testScenario4() {
      logToConsole('üß™ Test Sc√©n√°≈ô 4: Automatick√° zpr√°va', 'info');
      window.VanyChatWidget.open();
      
      setTimeout(() => {
        window.VanyChatWidget.sendMessage('Jak√© m√°te produkty z vƒçel√≠ch produkt≈Ø?');
        logToConsole('Posl√°na automatick√° zpr√°va o vƒçel√≠ch produktech', 'info');
      }, 800);
    }

    // API Tests
    function testAPIOpen() {
      window.VanyChatWidget.open();
      logToConsole('API: window.VanyChatWidget.open()', 'success');
    }

    function testAPIClose() {
      window.VanyChatWidget.close();
      logToConsole('API: window.VanyChatWidget.close()', 'success');
    }

    function testAPIToggle() {
      window.VanyChatWidget.toggle();
      logToConsole('API: window.VanyChatWidget.toggle()', 'success');
    }

    function testAPISendMessage() {
      const message = 'Testovac√≠ zpr√°va z API';
      window.VanyChatWidget.sendMessage(message);
      logToConsole(`API: window.VanyChatWidget.sendMessage("${message}")`, 'success');
    }

    // Listen to widget events
    window.addEventListener('message', function(event) {
      const data = event.data;
      
      if (data.type === 'WIDGET_READY') {
        logToConsole('üì° Widget Event: WIDGET_READY', 'info');
        checkWidgetStatus();
      } else if (data.type === 'WIDGET_OPEN') {
        logToConsole('üì° Widget Event: WIDGET_OPEN', 'info');
      } else if (data.type === 'WIDGET_CLOSE') {
        logToConsole('üì° Widget Event: WIDGET_CLOSE', 'info');
      }
    });

    // Check status on load
    window.addEventListener('load', function() {
      setTimeout(checkWidgetStatus, 1000);
    });

    // Initial log
    logToConsole('Testovac√≠ prost≈ôed√≠ inicializov√°no', 'success');
    logToConsole('ƒåek√°m na naƒçten√≠ widgetu...', 'info');
  </script>
</body>
</html>






