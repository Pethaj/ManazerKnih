import { createClient } from '@supabase/supabase-js';

// Admin klient s service_role_key pro administrační operace
// DŮLEŽITÉ: Tento klient by měl být použit POUZE na serveru nebo v bezpečném prostředí
// Service role key obchází všechny RLS politiky a má plný přístup k databázi

const supabaseUrl = 'https://modopafybeslbcqjxsve.supabase.co';

// Service role key - V produkci by měl být v environment variables
// NIKDY nesdílejte tento klíč s klientem!
// POZNÁMKA: Pro Vite použijte import.meta.env místo process.env
const supabaseServiceRoleKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1vZG9wYWZ5YmVzbGJjcWp4c3ZlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTI1MzQyMSwiZXhwIjoyMDcwODI5NDIxfQ.HuQ2gL0IYxQvKzMx4lPYQCKZAOC8jIX8VYZmvL5YHhk';

/**
 * Vytvoření admin klienta s service role
 * Tento klient má plný přístup k databázi a obchází všechny RLS politiky
 */
export const supabaseAdmin = createClient(supabaseUrl, supabaseServiceRoleKey, {
    auth: {
        persistSession: false,
        autoRefreshToken: false,
        detectSessionInUrl: false
    }
});

export { supabaseUrl, supabaseServiceRoleKey };

